APPLICATION = loramac

FEATURES_REQUIRED = periph_spi periph_gpio periph_adc

BOARD ?= samr21-xpro

CFLAGS += -DCRYPTO_AES
CFLAGS += -DDEVELHELP
CFLAGS += -DDEBUG_ASSERT_VERBOSE

# LoRaMAC configuration defines
CFLAGS += -DOTA
CFLAGS += -DPUBLIC_NTW
CFLAGS += -DLORAWAN_DEVICE_EUI={0x06,0x00,0xf9,0xff,0x2c,0xca,0xd3,0x35}
CFLAGS += -DLORAWAN_APPLICATION_EUI={0x76,0x5e,0x2e,0x5e,0xcf,0x3d,0xd3,0xdb}
CFLAGS += -DLORAWAN_APPLICATION_KEY={0x2b,0x7e,0x15,0x16,0x28,0xae,0xd2,0xa6,0xab,0xf7,0x15,0x88,0x09,0xcf,0x4f,0x3a}
CFLAGS += -DUSE_BAND_915_HYBRID
CLFAGS += -DLORAMAC_DEFAULT_TX_POWER=TX_POWER_14_DBM
CFLAGS += -DHACK_OTA

# App Definitions
CFLAGS += -DDROP_TIME=5*SEC_IN_USEC
CFLAGS += -DOVER_THE_AIR_ACTIVATION_DUTYCYCLE=10000
CFLAGS += -DAPP_TX_DUTYCYCLE=15000
CFLAGS += -DLORAWAN_CONFIRMED_MSG_ON=false 
CFLAGS += -DLORAWAN_ADR_ON=0
CFLAGS += -DLORAWAN_APP_PORT=2

RIOTBASE ?= $(CURDIR)/../..

DRIVER ?= sx1276

# include the selected driver
USEMODULE += $(DRIVER)
USEMODULE += hashes
USEMODULE += crypto
USEMODULE += od
USEMODULE += shell
USEMODULE += shell_commands
USEMODULE += ps
USEMODULE += xtimer
USEMODULE += lorawan
USEMODULE += random
USEMODULE += netdev2_lorawan
USEMODULE += gnrc_netapi

include $(RIOTBASE)/Makefile.include
